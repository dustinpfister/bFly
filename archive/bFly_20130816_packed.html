<!DOCTYPE html><html><head><meta charset="utf-8"/><title></title></head><body><div id="screen"style="position:relative; background:#8f8f8f; width:740px; height: 500px;"><div id="dispContainer"style="position:absolute;left:520px;top:20px;"><canvas id="disp"width="200"height="460"></canvas></div><div id="player"style="position:absolute; background:#ff0000;width:20px; height:20px;z-Index:11;"></div></div><div id="out">hello world</div><script type="text/javascript">var tb={};tb.bb=function(a,b,c,d,e,f,g,h){var o=false;if((a>e+g)||(a+c<e)||(b+d<f)||(b>f+h)){o=false}else{o=true};return o};tb.g=function(a){return document.getElementById(a)};tb.append=function(a,b){if(typeof a=='string')a=tb.g(a);if(typeof b=='string')b=tb.g(b);b.appendChild(a)};tb.per=function(a,b){return a*100/b};tb.checkCanvas=function(){var a=document.createElement('canvas');return!!a.getContext('2d')?true:false};var keys=[];var app=function(){var d={x:240,y:480,level:1,nectar:100,maxNectar:500,airBorn:false};var e=[],flowerChance=100,maxFlowers=15,killList=[],gameOver=false,t=null;var g=100,lastTime=new Date();var h=new Date(),rollDelay=2500-g*20;var j=tb.g('disp').getContext('2d');for(var k=0,str='';k!=256;k++){keys[k]=false};var l=function(){var c=j;c.fillStyle='#000000';c.fillRect(0,0,200,500);c.font='15px monospace';c.fillStyle='#8f8f8f';c.fillText('Nectar',25,24);c.fillText('Luck',25,74);c.fillRect(25,25,150,25);c.fillRect(25,75,150,25);c.fillStyle='#ffff00';c.fillRect(25,25,Math.round(tb.per(d.nectar,d.maxNectar)*1.5),25);c.fillRect(25,75,Math.round(tb.per(g,100))*1.5,25)};var m=function(){this.x=Math.round(Math.random()*380+60);this.y=Math.round(Math.random()*280+110);this.nectar=Math.round(Math.random()*55+(g*2));var a=document.createElement('div');tb.append(a,'screen');this.div=a;var n=a.style;n.position='absolute';n.width='20px';n.height='20px';n.left=this.x+'px';n.top=this.y+'px';n.background='rgb('+this.nectar+','+this.nectar+',0)'};var o=function(){var a=tb.g('player');if(keys[32]){d.y-=10;if(d.y<0)d.y=0;d.nectar-=1;d.airBorn=true;keys[32]=false}else{if(d.y<480){d.y+=1.75}else{d.y=480}};if(d.airBorn&&d.y==480||d.nectar<=0){d.nectar=0;gameOver=true;clearInterval(t)};if(keys[65])d.x-=1.75;if(keys[68])d.x+=1.75;if(d.x<0)d.x=0;if(d.x>480)d.x=480;if(e.length<maxFlowers){if(new Date()-h>=rollDelay){h=new Date();var b=Math.random()*100;if(b<=flowerChance){var i=e.length;e[i]=new m(i)}}};for(var f=0;f!=e.length;f++){var i=e[f];if(tb.bb(d.x,d.y,20,20,i.x,i.y,20,20)){if(i.nectar>=20){d.nectar+=20*0.1;i.nectar-=20}else{d.nectar+=i.nectar;i.nectar=0};if(d.nectar>d.maxNectar)d.nectar=d.maxNectar}else{i.nectar-=0.25;if(i.nectar<10){if(i.y<480){i.y++}}};if(i.nectar<=0){killList[killList.length]=f};i.div.style.background='rgb('+i.nectar+','+i.nectar+',0)';i.div.style.top=i.y+'px'};if(killList.length>0){for(var c=killList.length-1;c!=-1;c--){tb.g('screen').removeChild(e[killList[c]].div);e.splice(killList[c],1)};killList=[]};a.style.left=d.x+'px';a.style.top=d.y+'px';if(new Date()-lastTime>=1000*30){g=Math.round(Math.random()*90)+10;flowerChance=g;rollDelay=2500-g*20;lastTime=new Date()};l()};t=setInterval(o,80)};window.onkeydown=function(e){if(e.keyCode==32)e.preventDefault();keys[e.keyCode]=true};window.onkeyup=function(e){keys[e.keyCode]=false};window.onload=function(){if(tb.checkCanvas()){app()}else{document.write('the game requiers canvas support')}};</script></body></html>